<div class="wrapper">
    <app-sidebar></app-sidebar>

    <div class="main">
        <main class="content">
            <div class="container-fluid">

                <div class="header">
                    <h1 class="header-title">
                        Los Usuarios
                    </h1>
                    <p class="header-subtitle">Lorem ipsum dolor sit amet consectetur adipisicing elit. Ducimus, iste!.</p>
                </div>

                <div class="row">
                    
                    <div class="col-12 col-xl-12">
                        <div class="card">
                            <div class="card-header">
                                
                                <div class="btn-group">
                                    <button type="button" class="btn mb-1 btn-danger"
                                     aria-haspopup="true"
                                      aria-expanded="false"
                                      routerLink="/users/registrar">
                                        Registrar Usuario
                                      </button>
                                </div>
                                
                            </div>
                            <table class="table table-striped table-hover">
                                <thead class="thead-dark">
                                    <tr>
                                        <th>Nombre</th>
                                        <th>Apellido</th>
                                        <th>Email</th>
                                        <th>Role</th>
                                        <th>Opciones</th>
                                    </tr>
                                </thead>
                                <tbody *ngFor="let user of users | paginate: { itemsPerPage: 4, currentPage: p }">
                                    
                                        <td>{{user.nombre}}</td>
                                        <td>{{user.apellidos}}</td>
                                        <td>{{user.email}}</td>
                                        <td>{{user.role}}</td>
                                        <td>
                                            <div class="btn-group">
                                                <button type="button" class="btn mb-1 btn-danger dropdown-toggle" 
                                                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                <i class="fas fa-cog"></i>
                                                </button>
                                                <div class="dropdown-menu" >
                                                    <a class="dropdown-item" style="cursor: pointer;" [routerLink] ="['/users/editar/',user._id]">Editar Usuario</a>
                                                    <a class="dropdown-item" style="cursor: pointer;" (click)="eliminarUsuario(user._id)">Borrar usuario</a>
                                                    
                                                </div>
                                            </div>
                                        </td>
                                    
                                </tbody> 
                            </table>
                        </div>
                    </div>
                    <div class="col-12 col-xl-12">
                        <pagination-controls (pageChange)="p = $event"></pagination-controls>
                    </div>
                </div>

            </div>
        </main>
    </div>   
   
</div>
