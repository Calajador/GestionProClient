
<div class="wrapper">
    <app-sidebar></app-sidebar>

    <div class="main">
        <main class="content">

            <div class="container-fluid" id="htmlData" #htmlData>
                <div class="header">
                    <div class="row">
                        <div class="col-6 col-xl-6">
                            <h1 style="text-align: start;" class="header-title">
                                Factura de Venta
                            </h1>
                            
                        </div>
                        <div class="col-6 col-xl-6">
                            <h1 style="text-align: end;" class="header-title">
                                Electro SA
                            </h1>
                            
                        </div>
                        <hr>
                    </div>
                </div>

                <div class="row" style="margin-top: 0;">
                    <div class="col-12 col-xl-12">
                        <h3>Fecha de Compra</h3>
                        <table>
                            <tr>
                                <th>Fecha</th>
                                <td>{{venta.fecha | date: 'MMM d, y, h:mm:ss a'}}</td>
                            </tr>
                        </table>
                    </div>
                    
                </div>

                <div class="row" style="margin-top: 15px;">
                    <div class="col-6 col-xl-6 ">
                        <h2>Datos Empresa</h2>
                        <table style="width:100%">
                            <tr>
                                <th>Nombre</th>
                                <td>Nombre Empresa</td>
                            </tr>
                            <tr>
                                <th>Direccion</th>
                                <td>Direccion Empresa</td>
                            </tr>
                            <tr>
                                <th>Telefono</th>
                                <td>91 555 555 55</td>
                            </tr>
                            <tr>
                                <th>CIF</th>
                                <td>XXXXXXXX</td>
                            </tr>
                        </table>
                    </div>

                    <div class="col-6 col-xl-6 ">
                        <h2>Datos Cliente</h2>
                        <table style="width:100%">
                            <tr>
                                <th>Nombre</th>
                                <td>{{venta.idcliente.nombre}}</td>
                            </tr>
                            <tr>
                                <th>Email</th>
                                <td>{{venta.idcliente.correo}}</td>
                            </tr>
                            <tr>
                                <th>CIF/DNI</th>
                                <td>{{venta.idcliente.dni}}</td>
                            </tr>
                        </table>
                    </div>
                </div>
                <hr>
                <h2>Productos</h2>
                <table class="table table-striped table-hover">
                    <thead class="thead-dark">
                        <tr>
                            <th>Prodcuto</th>
                            <th>Precio</th>
                            <th>Cantidad</th>
                            
                        </tr>
                    </thead>

                    <tbody *ngFor="let detalle of detalles">
                        <td>{{detalle.idproducto.titulo}}</td>
                        <td>{{detalle.idproducto.precio_venta}}</td>
                        <td>{{detalle.cantidad}}</td>
                    </tbody>
                    
                </table>
                <hr>
                <div class="row">
                    <div class="col-6 col-xl-6 ">
                        <h1>TOTAL</h1>
                    </div>
                    <div class="col-6 col-xl-6 ">
                        <h1>{{totalDef}} euros</h1>
                    </div>
                </div>
            </div>

            <div class="col-4 mt-4 mb-4">
                <button class="btn btn-success btn-block" (click)="openPDF()">Ver Factura</button>
                <button class="btn btn-danger btn-block" (click)="downloadPDF()">Descargar Factura</button>
            </div>
            
        </main>
    </div>   
    
</div>

